!function(){"use strict";!function(){var t=JSON.parse('[{"name":"Start","platforms":[{"x":0,"y":700,"width":480,"height":32},{"x":0,"y":272,"width":48,"height":256}],"image":"./Assets/Levels/Start.png"},{"name":"BridgeSprint","platforms":[{"x":0,"y":0,"width":480,"height":32}],"image":"./Assets/Levels/BridgeSprint.png"},{"name":"CrouchorJump","platforms":[{"x":0,"y":0,"width":480,"height":32},{"x":112,"y":48,"width":80,"height":48},{"x":192,"y":96,"width":144,"height":48},{"x":304,"y":48,"width":64,"height":80}],"image":"./Assets/Levels/CrouchorJump.png"},{"name":"Steppies","platforms":[{"x":0,"y":0,"width":480,"height":32},{"x":96,"y":32,"width":272,"height":48},{"x":160,"y":64,"width":224,"height":48},{"x":240,"y":96,"width":128,"height":48},{"x":336,"y":0,"width":48,"height":160}],"image":"./Assets/Levels/Steppies.png"},{"name":"CaveHops","platforms":[{"x":0,"y":0,"width":96,"heigh":32},{"x":112,"y":0,"width":48,"height":32},{"x":192,"y":0,"width":48,"height":32},{"x":288,"y":0,"width":48,"height":32},{"x":368,"y":0,"width":128,"height":32}],"image":"./Assets/Levels/CaveHops.png"},{"name":"HigherAndHigher","platforms":[{"x":0,"y":0,"width":96,"height":32},{"x":128,"y":0,"width":48,"height":64},{"x":192,"y":0,"width":48,"height":112},{"x":256,"y":0,"width":48,"height":144},{"x":304,"y":0,"width":48,"height":176},{"x":400,"y":0,"width":96,"height":32}],"image":"./Assets/Levels/HigherandHigher.png"},{"name":"BrokenBridge","platforms":[{"x":0,"y":0,"width":144,"height":32},{"x":48,"y":48,"width":112,"height":16},{"x":96,"y":64,"width":64,"height":16},{"x":176,"y":64,"width":16,"height":16},{"x":208,"y":64,"width":16,"height":16},{"x":240,"y":64,"width":16,"height":16},{"x":272,"y":64,"width":16,"height":16},{"x":304,"y":64,"width":16,"height":16},{"x":336,"y":64,"width":16,"height":16},{"x":368,"y":0,"width":144,"height":32},{"x":368,"y":48,"width":112,"height":16},{"x":368,"y":48,"width":112,"height":16}],"image":"./Assets/Levels/BrokenBridge.png"},{"name":"CaveBridges","platforms":[{"x":0,"y":32,"width":160,"height":16},{"x":208,"y":32,"width":160,"height":16},{"x":384,"y":32,"width":112,"height":16},{"x":272,"y":48,"width":48,"height":16},{"x":416,"y":48,"width":48,"height":16}],"image":"./Assets/Levels/CaveBridges.png"},{"name":"TripleJump","platforms":[{"x":0,"y":0,"width":128,"height":32},{"x":160,"y":0,"width":112,"height":64},{"x":288,"y":48,"width":128,"height":64},{"x":432,"y":0,"width":64,"height":32}],"image":"./Assets/Levels/TripleJump.png"}]');const e=document.getElementById("canvas1");e.getContext("2d"),e.width=800,e.height=700;class s{constructor(t,s,h){this.name=t,this.platforms=s,this.background=new Image,this.background.src=h,this.x=0,this.y=0,this.width=e.width,this.height=e.height,this.x2=this.width,this.speed=5}draw(t){t.drawImage(this.background,this.x,this.y,this.width,this.height),this.platforms.forEach((e=>{e.draw(t)}))}drawNext(t,e){t.drawImage(e,this.x2,this.y,this.width,this.height)}update(t){this.x-=this.speed,this.x2-=this.speed,this.x>0&&(this.x2=this.x-this.width),this.x2>0&&(this.x=this.x2-this.width),t.keys.includes("d")?this.speed=5:t.keys.includes("a")?this.speed=-5:this.speed=0,this.x<-this.width?this.x=this.width:this.x>this.width&&(this.x=-this.width)}}const h=document.getElementById("canvas1"),i=h.getContext("2d"),n=(h.width=800,h.height=700,new Image);n.src="./Assets/Background/BGBack.png";const d=new Image;d.src="./Assets/Background/BGFront.png";const a=new Image;a.src="./Assets/Background/CloudsBack.png";const g=new Image;g.src="./Assets/Background/CloudsFront.png";class r{constructor(t,e,s){this.x=0,this.y=0,this.width=1024,this.height=700,this.x2=this.width,this.image=t,this.speedModifier=e,this.speed=s*this.speedModifier}update(t){this.x-=this.speed,this.x2-=this.speed,this.x>0&&(this.x2=this.x-this.width),this.x2>0&&(this.x=this.x2-this.width),t.keys.includes("d")?this.speed=5:t.keys.includes("a")?this.speed=-5:this.speed=0,this.x<-this.width?this.x=this.width:this.x>this.width&&(this.x=-this.width)}draw(){i.drawImage(this.image,this.x,this.y,this.width,this.height),i.drawImage(this.image,this.x2,this.y,this.width,this.height)}}new r(n,1),new r(d,1);new r(a,.5),new r(g,.5);class o{constructor(){this.keys=[],window.addEventListener("keydown",(t=>{"s"!==t.key&&"w"!==t.key&&"a"!==t.key&&"d"!==t.key||this.keys.includes(t.key)||this.keys.push(t.key)})),window.addEventListener("keyup",(t=>{"s"!==t.key&&"w"!==t.key&&"a"!==t.key&&"d"!==t.key||this.keys.splice(this.keys.indexOf(t.key),1)}))}}const w=document.getElementById("canvas1");w.getContext("2d"),w.width=800,w.height=700;const c=document.getElementById("canvas1");c.getContext("2d"),c.width=800,c.height=700;const m=new Image;m.src="./Assets/Colour1/Outline/120x80_PNGSheets/_Idle.png";(new Image).src="./Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Run.png";(new Image).src="./Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Jump.png";class x{constructor(t,e,s){this.gameWidth=t,this.gameHeight=e,this.width=120,this.height=80,this.x=32,this.y=this.gameHeight-this.height-64,this.image=m,this.maxFrame=10,this.frameX=0,this.frameY=0,this.fps=20,this.frameTimer=0,this.frameInterval=1e3/this.fps,this.sprites=s,this.speed=0,this.vel=0,this.grav=1}draw(t){t.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}update(t,e,s){this.frameTimer>this.frameInterval?(this.frameX>=this.maxFrame?this.frameX=0:this.frameX++,this.frameTimer=0):this.frameTimer+=e,t.keys.includes("d")?(this.speed=5,this.image=s[1]):t.keys.includes("a")?(this.speed=-5,this.image=s[1]):t.keys.includes("w")&&this.onGround()?(this.vel-=15,this.image=s[2]):(this.speed=0,this.image=s[0]),this.x+=this.speed,this.x<0?this.x=0:this.x>this.gameWidth-this.width&&(this.x=this.gameWidth-this.width),this.y+=this.vel,this.onGround()?this.vel=0:this.vel+=this.grav,this.y>this.gameHeight-this.height&&(this.y=this.gameHeight-this.height)}onGround(){return this.y>=this.gameHeight-this.height-64}}new o,new x(c.width,c.height);class l{constructor(t,e,s,h){this.x=t,this.y=e,this.height=s,this.width=h}draw(t){}}const p=document.getElementById("canvas1"),u=(p.getContext("2d"),p.width=800),y=p.height=700,f=new Image;f.src="./Assets/Colour1/Outline/120x80_PNGSheets/_Idle.png";const v=new Image;v.src="./Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Run.png";const k=new Image;k.src="./Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Jump.png";const B=[f,v,k],I=new Image;I.src="./Assets/Background/BGBack.png";const A=new Image;A.src="./Assets/Background/BGFront.png";const C=new Image;C.src="./Assets/Background/CloudsBack.png";const L=new Image;L.src="./Assets/Background/CloudsFront.png";const G=new o,_=new x(p.width,p.height);new r(I,1,_.speed),new r(A,1,_.speed);new r(C,.5,_.speed),new r(L,.5,_.speed);let S=[];for(const e in t){const h=t[e],i=[];h.platforms.forEach((t=>{i.push(new l(t.x,t.y,t.width,t.height))})),S.push(new s(h.name,i,h.image))}class N{constructor(t,e,s,h,i){this.player=t,this.levels=e,this.input=i,this.curLevel=e[0],this.nextLevel=e[1],this.ctx=s,this.layers=h,this.lastTime=0,this.randomLevels=e.slice(1)}setNextLevel(){let t=Math.floor(8*Math.random());return this.randomLevels[t]}changeCurLevel(){this.curLevel=this.nextLevel,this.setNextLevel()}animate(t){const e=t-this.lastTime,s=this.player.x-u/2;if(s>0){const t=s;for(const e of this.curLevel.platforms)e.x-=t;for(const t of this.layers)t.update(this.input);this.curLevel.platforms[0].x+this.curLevel.platforms[0].width<0&&this.changeCurLevel()}this.ctx.clearRect(0,0,u,y);for(const t of this.layers)t.draw(this.ctx);this.curLevel.draw(this.ctx),this.curLevel.drawNext(this.ctx,this.nextLevel.background),this.player.draw(this.ctx),this.player.update(G,e,B),this.curLevel.update(G),requestAnimationFrame(this.animate.bind(this))}}window.addEventListener("load",(function(){const e=document.getElementById("canvas1"),h=e.getContext("2d");e.width=800,e.height=700;(new Image).src="./Assets/Colour1/Outline/120x80_PNGSheets/_Idle.png";(new Image).src="./Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Run.png";(new Image).src="./Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Jump.png";const i=new Image;i.src="./Assets/Background/BGBack.png";const n=new Image;n.src="./Assets/Background/BGFront.png";const d=new Image;d.src="./Assets/Background/CloudsBack.png";const a=new Image;a.src="./Assets/Background/CloudsFront.png";const g=new o,w=new x(e.width,e.height);let c=[];for(const e in t){const h=t[e],i=[];h.platforms.forEach((t=>{i.push(new l(t.x,t.y,t.width,t.height))})),c.push(new s(h.name,i,h.image))}const m=new r(i,1,w.speed),p=new r(n,1,w.speed),u=new r(d,.5,w.speed),y=new r(a,.5,w.speed);new N(w,c,h,[u,y,m,p],g).animate(0)}))}()}();
//# sourceMappingURL=main.js.map