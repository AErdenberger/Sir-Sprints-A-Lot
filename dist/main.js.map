{"version":3,"file":"main.js","mappings":"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","sources":["webpack://sir-sprints-a-lot/./src/scripts/levels.js","webpack://sir-sprints-a-lot/./src/scripts/background.js","webpack://sir-sprints-a-lot/./src/scripts/knight.js","webpack://sir-sprints-a-lot/./src/scripts/input.js","webpack://sir-sprints-a-lot/./src/scripts/platform.js","webpack://sir-sprints-a-lot/./src/scripts/game.js","webpack://sir-sprints-a-lot/./src/index.js"],"sourcesContent":["const canvas = document.getElementById('canvas1');\nconst ctx = canvas.getContext('2d');\ncanvas.width = 800;\ncanvas.height = 700;\n\nexport default class Level {\n    constructor(name, platforms, bgimage){\n        this.name = name;\n        this.platforms = platforms;\n        this.background = new Image();\n        this.background.src = bgimage;\n        this.x = 0;\n        this.y = 0;\n        this.width = canvas.width;\n        this.height = canvas.height;\n        this.x2 = this.width;\n        this.speed = 5;\n    };\n\n    draw(ctx){\n        ctx.drawImage(this.background, this.x, this.y, this.width, this.height)\n\n        this.platforms.forEach((platform) => {\n            platform.draw(ctx);\n        });\n    };\n\n    drawNext(ctx, image){\n        ctx.drawImage(image, this.x2, this.y, this.width, this.height)\n    };\n\n    update(input){\n        this.x -= this.speed;\n        this.x2 -= this.speed;\n\n        if (this.x > 0){\n            this.x2 = this.x - this.width;\n        }\n        if (this.x2 > 0){\n            this.x = this.x2 - this.width;\n        }\n\n        if (input.keys.includes('d')){\n            this.speed = 5;\n        } else if (input.keys.includes('a')){\n            this.speed = -5;\n        } else {\n            this.speed = 0;\n        }\n        \n        //horizontal movement\n        if (this.x < -(this.width)){\n            this.x = this.width;\n        } else if (this.x > (this.width)){\n            this.x = -(this.width);\n        }\n    };\n}","const canvas = document.getElementById('canvas1');\nconst ctx = canvas.getContext(\"2d\");\n\n\nconst backgroundLayer1 = new Image();\nbackgroundLayer1.src = './Assets/Background/BGBack.png';\nconst backgroundLayer2 = new Image();\nbackgroundLayer2.src = './Assets/Background/BGFront.png';\nconst backgroundLayer3 = new Image();\nbackgroundLayer3.src = './Assets/Background/CloudsBack.png';\nconst backgroundLayer4 = new Image();\nbackgroundLayer4.src = './Assets/Background/CloudsFront.png';\n\n\nexport default class Layer {\n    constructor(image, speedModifier, gameSpeed){\n        this.x = 0;\n        this.y = 0;\n        this.width = 1024;\n        this.height = 700;\n        this.x2 = this.width;\n        this.image = image;\n        this.speedModifier = speedModifier;\n        this.speed = gameSpeed * this.speedModifier;\n    }\n\n    //move layers horizontally by changing their this.x and this.x2 and update them\n    //when the layers move offscreen\n    update(input){\n        this.x -= this.speed;\n        this.x2 -= this.speed;\n\n        if (this.x > 0){\n            this.x2 = this.x - this.width;\n        }\n        if (this.x2 > 0){\n            this.x = this.x2 - this.width;\n        }\n\n        if (input.keys.includes('d')){\n            this.speed = 5;\n        } else if (input.keys.includes('a')){\n            this.speed = -5;\n        } else {\n            this.speed = 0;\n        }\n        \n        //horizontal movement\n        if (this.x < -(this.width)){\n            this.x = this.width;\n        } else if (this.x > (this.width)){\n            this.x = -(this.width);\n        }\n    }\n    //take in information about the layer object and draw it on the canvas\n    //every time update is called, draw will be called to draw the layer\n    //at the new position\n    draw(){\n        ctx.drawImage(this.image, this.x, this.y, this.width, this.height)\n        ctx.drawImage(this.image, this.x2, this.y, this.width, this.height)\n    }   \n}","    const canvas = document.getElementById('canvas1');\n    canvas.width = 800;\n    canvas.height = 700;\n\n    const idleImage = new Image();\n    idleImage.src = './Assets/Colour1/Outline/120x80_PNGSheets/_Idle.png';\n    // const crouchImage = new Image();\n    // crouchImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_CrouchFull.png';\n    // const crouchWalkImage = new Image();\n    // crouchWalkImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_CrouchWalk.png';\n    const runImage = new Image();\n    runImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Run.png';\n    const jumpImage = new Image();\n    jumpImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Jump.png';\n    // const turnAroundImage = new Image();\n    // turnAroundImage = 'Assets/Knight/Colour1/Outline/120x80_PNGSheets/_TurnAround.png';\n   \n    export default class Player {\n        constructor(gameWidth, gameHeight, sprites){\n            this.gameWidth = gameWidth;\n            this.gameHeight = gameHeight;\n            this.width = 120;\n            this.height = 80;\n            this.x = 32;\n            this.y = this.gameHeight - this.height - 64;\n            this.image = idleImage;\n            this.maxFrame = 10;\n            this.frameX = 0;\n            this.frameY = 0;\n            this.fps = 20;\n            this.frameTimer = 0;\n            this.frameInterval = 1000/this.fps;\n            this.sprites = sprites;\n            this.speed = 0;\n            this.vel = 0;\n            this.grav = 1;\n        }\n        \n        draw(context){\n            // context.fillStyle = 'white'\n            // context.fillRect(this.x, this.y, this.width, this.height)\n            context.drawImage(this.image, \n                            (this.frameX * this.width), \n                            (this.frameY * this.height), \n                            this.width, \n                            this.height, \n                            this.x, \n                            this.y, \n                            this.width, \n                            this.height);\n        }\n\n        update(input, deltaTime, sprites){\n            //sprite animation\n            if (this.frameTimer > this.frameInterval){\n                if (this.frameX >= this.maxFrame){\n                    this.frameX = 0;\n                } else {\n                    this.frameX++\n                }\n                this.frameTimer = 0;\n            } else {\n                this.frameTimer += deltaTime;\n            }\n\n            //controls\n            if (input.keys.includes('d')){\n                this.speed = 5;\n                this.image = sprites[1];\n            } else if (input.keys.includes('a')){\n                this.speed = -5;\n                this.image = sprites[1];\n            } else if (input.keys.includes('w') && this.onGround()){\n                // console.log(\"jumping\")\n                this.vel -= 15;\n                this.image = sprites[2];\n            } else {\n                this.speed = 0;\n                this.image = sprites[0];\n            }\n            \n            //horizontal movement\n            this.x += this.speed;\n            if (this.x < 0){\n                this.x = 0;\n            } else if (this.x > (this.gameWidth - this.width)) {\n                this.x = this.gameWidth - this.width;\n            }\n\n            //vertical movement\n            this.y += this.vel;\n            if (!this.onGround()){\n                this.vel += this.grav;\n            } else {\n                this.vel = 0;\n            }\n            if (this.y > (this.gameHeight - this.height)){\n                this.y = this.gameHeight - this.height;\n            }\n        }\n\n        onGround(){\n            return (this.y >= this.gameHeight - this.height - 64);\n        };\n    }\n","export default class InputHandler {\n    constructor(){\n        this.keys = [];\n        window.addEventListener('keydown', event => {\n            // console.log(event.key);\n            if ((event.key === 's' ||\n                event.key === 'w' ||\n                event.key === 'a' ||\n                event.key === 'd') \n                && !(this.keys.includes(event.key))){\n                    this.keys.push(event.key)\n                }\n            });\n            window.addEventListener('keyup', event => {\n            // console.log(event.key);\n            if (event.key === 's' ||\n            event.key === 'w' ||\n            event.key === 'a' ||\n            event.key === 'd') {\n                this.keys.splice(this.keys.indexOf(event.key), 1);\n            }\n        });\n    }\n}","export default class Platform {\n    constructor(x, y , height, width){\n        this.x = x;\n        this.y = y;\n        this.height = height;\n        this.width = width;\n    };\n\n    // draw(ctx) {\n    //     ctx.fillStyle = \"#333\";\n    //     ctx.fillRect(this.x, this.y, this.height, this.width);\n    // }\n}","import levelsData from \"/Assets/Levels/levels.json\";\nimport Level from \"/src/scripts/levels.js\";\nimport InputHandler from \"/src/scripts/input.js\";\nimport Platform from \"/src/scripts/platform.js\";\n\nconst canvas = document.getElementById('canvas1');\nconst ctx = canvas.getContext(\"2d\");\nconst CANVAS_WIDTH = canvas.width = 800;\nconst CANVAS_HEIGHT = canvas.height = 700;\n\nconst idleImage = new Image();\nidleImage.src = './Assets/Colour1/Outline/120x80_PNGSheets/_Idle.png';\n// const crouchImage = new Image();\n// crouchImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_CrouchFull.png';\n// const crouchWalkImage = new Image();\n// crouchWalkImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_CrouchWalk.png';\nconst runImage = new Image();\nrunImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Run.png';\nconst jumpImage = new Image();\njumpImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Jump.png';\n// const turnAroundImage = new Image();\n// turnAroundImage = 'Assets/Knight/Colour1/Outline/120x80_PNGSheets/_TurnAround.png';\n\nconst spriteSheet = [idleImage, runImage, jumpImage];\n\nconst backgroundLayer1 = new Image();\nbackgroundLayer1.src = './Assets/Background/BGBack.png';\nconst backgroundLayer2 = new Image();\nbackgroundLayer2.src = './Assets/Background/BGFront.png';\nconst backgroundLayer3 = new Image();\nbackgroundLayer3.src = './Assets/Background/CloudsBack.png';\nconst backgroundLayer4 = new Image();\nbackgroundLayer4.src = './Assets/Background/CloudsFront.png';\n\nconst input = new InputHandler();\n\nlet levels = [];\nfor (const data in levelsData) {\n    const lev = levelsData[data];\n    const platforms = [];\n    lev.platforms.forEach(plat => {\n        platforms.push(new Platform(plat.x, plat.y, plat.width, plat.height))       \n    });\n    levels.push(new Level(lev.name, platforms, lev.image)); \n};\n\nexport default class Game {\n    constructor(player, levels, ctx, layers, input){\n        this.player = player;\n        this.levels = levels;\n        this.input = input\n        this.curLevel = levels[0];\n        this.nextLevel = levels[1];\n        this.ctx = ctx;\n        this.layers = layers;\n        this.lastTime = 0;\n        this.randomLevels = levels.slice(1);\n    };\n\n    setNextLevel(){\n        let levelSelector = Math.floor(Math.random() * 8);\n        return this.randomLevels[levelSelector];\n    };\n\n    changeCurLevel(){\n        this.curLevel = this.nextLevel;\n        this.setNextLevel();\n        return this.curLevel;\n    };\n\n    animate(timeStamp) {\n        const deltaTime = timeStamp - this.lastTime;\n        // Calculate the x-position of the player relative to the canvas center\n        const playerXPosRelativeToCenter = this.player.x - CANVAS_WIDTH/2;\n        // Check if the player has moved past the center of the canvas\n        if (playerXPosRelativeToCenter > 0) {\n            // Move the platforms and background layers to simulate scrolling\n            const scrollDistance = playerXPosRelativeToCenter;\n            for (const platform of this.curLevel.platforms) {\n                platform.x -= scrollDistance;\n            }\n            for (const layer of this.layers) {\n                layer.update(this.input);\n            }\n            // Check if the current level has been completely scrolled off the screen\n            if (this.curLevel.platforms[0].x + this.curLevel.platforms[0].width < 0) {\n                // If so, change to the next level and reset its position\n                this.changeCurLevel();\n            }\n        }\n        this.ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n        for (const layer of this.layers) {\n          layer.draw(this.ctx);\n        }\n        this.curLevel.draw(this.ctx);\n        this.curLevel.drawNext(this.ctx, this.nextLevel.background)\n        this.player.draw(this.ctx);\n        this.player.update(input, deltaTime, spriteSheet);\n        this.curLevel.update(input);\n        requestAnimationFrame(this.animate.bind(this));\n    }\n}","import levelsData from \"/Assets/Levels/levels.json\";\nimport Level from \"/src/scripts/levels.js\";\nimport Layer from \"/src/scripts/background.js\";\nimport Player from \"/src/scripts/knight.js\";\nimport InputHandler from \"/src/scripts/input.js\";\nimport Platform from \"/src/scripts/platform.js\";\nimport Game from \"/src/scripts/game.js\";\n\nwindow.addEventListener('load', function(){\n    const canvas = document.getElementById('canvas1');\n    const ctx = canvas.getContext('2d');\n    canvas.width = 800;\n    canvas.height = 700;\n\n    const idleImage = new Image();\n    idleImage.src = './Assets/Colour1/Outline/120x80_PNGSheets/_Idle.png';\n    // const crouchImage = new Image();\n    // crouchImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_CrouchFull.png';\n    // const crouchWalkImage = new Image();\n    // crouchWalkImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_CrouchWalk.png';\n    const runImage = new Image();\n    runImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Run.png';\n    const jumpImage = new Image();\n    jumpImage.src = './Assets/Knight/Colour1/Outline/120x80_PNGSheets/_Jump.png';\n    // const turnAroundImage = new Image();\n    // turnAroundImage = 'Assets/Knight/Colour1/Outline/120x80_PNGSheets/_TurnAround.png';\n\n    const backgroundLayer1 = new Image();\n    backgroundLayer1.src = './Assets/Background/BGBack.png';\n    const backgroundLayer2 = new Image();\n    backgroundLayer2.src = './Assets/Background/BGFront.png';\n    const backgroundLayer3 = new Image();\n    backgroundLayer3.src = './Assets/Background/CloudsBack.png';\n    const backgroundLayer4 = new Image();\n    backgroundLayer4.src = './Assets/Background/CloudsFront.png';\n\n    \n    \n    const input = new InputHandler();\n    const testPlayer = new Player(canvas.width, canvas.height);\n    let levels = [];\n    for (const data in levelsData) {\n        const lev = levelsData[data];\n        const platforms = [];\n        lev.platforms.forEach(plat => {\n            platforms.push(new Platform(plat.x, plat.y, plat.width, plat.height))       \n        });\n        levels.push(new Level(lev.name, platforms, lev.image));\n        \n    };\n\n    const layer1 = new Layer(backgroundLayer1, 1, testPlayer.speed);\n    const layer2 = new Layer(backgroundLayer2, 1, testPlayer.speed);\n    const layer3 = new Layer(backgroundLayer3, 0.5, testPlayer.speed);\n    const layer4 = new Layer(backgroundLayer4, 0.5, testPlayer.speed);\n\n    const allLayers = [layer3, layer4, layer1, layer2];\n\n    const game = new Game(testPlayer, levels, ctx, allLayers, input);\n\n    game.animate(0);\n});"],"names":["canvas","document","getElementById","getContext","width","height","Level","constructor","name","platforms","bgimage","this","background","Image","src","x","y","x2","speed","draw","ctx","drawImage","forEach","platform","drawNext","image","update","input","keys","includes","Layer","speedModifier","gameSpeed","idleImage","Player","gameWidth","gameHeight","sprites","maxFrame","frameX","frameY","fps","frameTimer","frameInterval","vel","grav","context","deltaTime","onGround","InputHandler","window","addEventListener","event","key","push","splice","indexOf","Platform","CANVAS_WIDTH","CANVAS_HEIGHT","runImage","jumpImage","spriteSheet","levels","data","levelsData","lev","plat","Game","player","layers","curLevel","nextLevel","lastTime","randomLevels","slice","setNextLevel","levelSelector","Math","floor","random","changeCurLevel","animate","timeStamp","playerXPosRelativeToCenter","scrollDistance","layer","clearRect","requestAnimationFrame","bind","backgroundLayer1","backgroundLayer2","backgroundLayer3","backgroundLayer4","testPlayer","layer1","layer2","layer3","layer4"],"sourceRoot":""}